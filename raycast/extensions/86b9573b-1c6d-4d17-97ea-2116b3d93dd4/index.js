"use strict";var be=Object.create;var B=Object.defineProperty;var $e=Object.getOwnPropertyDescriptor;var ye=Object.getOwnPropertyNames;var ke=Object.getPrototypeOf,we=Object.prototype.hasOwnProperty;var xe=(e,r)=>{for(var t in r)B(e,t,{get:r[t],enumerable:!0})},ee=(e,r,t,a)=>{if(r&&typeof r=="object"||typeof r=="function")for(let n of ye(r))!we.call(e,n)&&n!==t&&B(e,n,{get:()=>r[n],enumerable:!(a=$e(r,n))||a.enumerable});return e};var G=(e,r,t)=>(t=e!=null?be(ke(e)):{},ee(r||!e||!e.__esModule?B(t,"default",{value:e,enumerable:!0}):t,e)),ve=e=>ee(B({},"__esModule",{value:!0}),e);var We={};xe(We,{default:()=>pe});module.exports=ve(We);var S=require("@raycast/api"),F=require("react");var o=G(require("react")),m=require("@raycast/api");var te=Object.prototype.hasOwnProperty;function H(e,r){var t,a;if(e===r)return!0;if(e&&r&&(t=e.constructor)===r.constructor){if(t===Date)return e.getTime()===r.getTime();if(t===RegExp)return e.toString()===r.toString();if(t===Array){if((a=e.length)===r.length)for(;a--&&H(e[a],r[a]););return a===-1}if(!t||typeof e=="object"){a=0;for(t in e)if(te.call(e,t)&&++a&&!te.call(r,t)||!(t in r)||!H(e[t],r[t]))return!1;return Object.keys(r).length===a}}return e!==e&&r!==r}var O=G(require("node:fs")),Z=G(require("node:path")),se=G(require("node:crypto"));var ie=require("react/jsx-runtime");function Se(e){let r=(0,o.useRef)(e),t=(0,o.useRef)(0);return H(e,r.current)||(r.current=e,t.current+=1),(0,o.useMemo)(()=>r.current,[t.current])}function x(e){let r=(0,o.useRef)(e);return r.current=e,r}function _e(e,r){let t=e instanceof Error?e.message:String(e);return(0,m.showToast)({style:m.Toast.Style.Failure,title:r?.title??"Something went wrong",message:r?.message??t,primaryAction:r?.primaryAction??re(e),secondaryAction:r?.primaryAction?re(e):void 0})}var re=e=>{let r=!0,t="[Extension Name]...",a="";try{let s=JSON.parse((0,O.readFileSync)((0,Z.join)(m.environment.assetsPath,"..","package.json"),"utf8"));t=`[${s.title}]...`,a=`https://raycast.com/${s.owner||s.author}/${s.name}`,(!s.owner||s.access==="public")&&(r=!1)}catch{}let n=m.environment.isDevelopment||r,c=e instanceof Error?e?.stack||e?.message||"":String(e);return{title:n?"Copy Logs":"Report Error",onAction(s){s.hide(),n?m.Clipboard.copy(c):(0,m.open)(`https://github.com/raycast/extensions/issues/new?&labels=extension%2Cbug&template=extension_bug_report.yml&title=${encodeURIComponent(t)}&extension-url=${encodeURI(a)}&description=${encodeURIComponent(`#### Error:
\`\`\`
${c}
\`\`\`
`)}`)}}};function q(e,r,t){let a=(0,o.useRef)(0),[n,c]=(0,o.useState)({isLoading:!0}),s=x(e),u=x(t?.abortable),i=x(r||[]),l=x(t?.onError),d=x(t?.onData),$=x(t?.onWillExecute),_=x(t?.failureToastOptions),E=x(n.data),w=(0,o.useRef)(null),g=(0,o.useRef)({page:0}),y=(0,o.useRef)(!1),A=(0,o.useRef)(!0),U=(0,o.useRef)(50),k=(0,o.useCallback)(()=>(u.current&&(u.current.current?.abort(),u.current.current=new AbortController),++a.current),[u]),b=(0,o.useCallback)((...C)=>{let v=k();$.current?.(C),c(h=>({...h,isLoading:!0}));let D=Ee(s.current)(...C);function M(h){return h.name=="AbortError"||v===a.current&&(l.current?l.current(h):m.environment.launchType!==m.LaunchType.Background&&_e(h,{title:"Failed to fetch latest data",primaryAction:{title:"Retry",onAction(I){I.hide(),w.current?.(...i.current||[])}},..._.current}),c({error:h,isLoading:!1})),h}return typeof D=="function"?(y.current=!0,D(g.current).then(({data:h,hasMore:I,cursor:me})=>(v===a.current&&(g.current&&(g.current.cursor=me,g.current.lastItem=h?.[h.length-1]),d.current&&d.current(h,g.current),I&&(U.current=h.length),A.current=I,c(ge=>g.current.page===0?{data:h,isLoading:!1}:{data:(ge.data||[])?.concat(h),isLoading:!1})),h),h=>(A.current=!1,M(h)))):(y.current=!1,D.then(h=>(v===a.current&&(d.current&&d.current(h),c({data:h,isLoading:!1})),h),M))},[d,l,i,s,c,w,$,g,_,k]);w.current=b;let P=(0,o.useCallback)(()=>{g.current={page:0};let C=i.current||[];return b(...C)},[b,i]),T=(0,o.useCallback)(async(C,v)=>{let D;try{if(v?.optimisticUpdate){k(),typeof v?.rollbackOnError!="function"&&v?.rollbackOnError!==!1&&(D=structuredClone(E.current?.value));let M=v.optimisticUpdate;c(h=>({...h,data:M(h.data)}))}return await C}catch(M){if(typeof v?.rollbackOnError=="function"){let h=v.rollbackOnError;c(I=>({...I,data:h(I.data)}))}else v?.optimisticUpdate&&v?.rollbackOnError!==!1&&c(h=>({...h,data:D}));throw M}finally{v?.shouldRevalidateAfter!==!1&&(m.environment.launchType===m.LaunchType.Background||m.environment.commandMode==="menu-bar"?await P():P())}},[P,E,c,k]),R=(0,o.useCallback)(()=>{g.current.page+=1;let C=i.current||[];b(...C)},[g,i,b]);(0,o.useEffect)(()=>{g.current={page:0},t?.execute!==!1?b(...r||[]):k()},[Se([r,t?.execute,b]),u,g]),(0,o.useEffect)(()=>()=>{k()},[k]);let W=t?.execute!==!1?n.isLoading:!1,V={...n,isLoading:W},j=y.current?{pageSize:U.current,hasMore:A.current,onLoadMore:R}:void 0;return{...V,revalidate:P,mutate:T,pagination:j}}function Ee(e){return e===Promise.all||e===Promise.race||e===Promise.resolve||e===Promise.reject?e.bind(Promise):e}function ae(e){return typeof e!="function"?!1:/^function\s+\w*\s*\(\s*\)\s*{\s+\[native code\]\s+}$/i.exec(Function.prototype.toString.call(e))!==null}function Ae(e){return e instanceof URLSearchParams?e.toString():e}function oe(e,r=[]){function t(a){return"update"in e?e.update(a,"utf8"):e.write(a)}return{dispatch:function(a){a=Ae(a),a===null?this._null():this["_"+typeof a](a)},_object:function(a){let n=/\[object (.*)\]/i,c=Object.prototype.toString.call(a),s=n.exec(c)?.[1]??"unknown:["+c+"]";s=s.toLowerCase();let u=null;if((u=r.indexOf(a))>=0){this.dispatch("[CIRCULAR:"+u+"]");return}else r.push(a);if(Buffer.isBuffer(a))return t("buffer:"),t(a.toString("utf8"));if(s!=="object"&&s!=="function"&&s!=="asyncfunction")if(this["_"+s])this["_"+s](a);else throw new Error('Unknown object type "'+s+'"');else{let i=Object.keys(a);i=i.sort(),ae(a)||i.splice(0,0,"prototype","__proto__","constructor"),t("object:"+i.length+":");let l=this;return i.forEach(function(d){l.dispatch(d),t(":"),l.dispatch(a[d]),t(",")})}},_array:function(a,n){n=typeof n<"u"?n:!1;let c=this;if(t("array:"+a.length+":"),!n||a.length<=1){a.forEach(function(i){c.dispatch(i)});return}let s=[],u=a.map(function(i){let l=Pe(),d=r.slice();return oe(l,d).dispatch(i),s=s.concat(d.slice(r.length)),l.read().toString()});r=r.concat(s),u.sort(),this._array(u,!1)},_date:function(a){t("date:"+a.toJSON())},_symbol:function(a){t("symbol:"+a.toString())},_error:function(a){t("error:"+a.toString())},_boolean:function(a){t("bool:"+a.toString())},_string:function(a){t("string:"+a.length+":"),t(a.toString())},_function:function(a){t("fn:"),ae(a)?this.dispatch("[native]"):this.dispatch(a.toString()),this.dispatch("function-name:"+String(a.name)),this._object(a)},_number:function(a){t("number:"+a.toString())},_xml:function(a){t("xml:"+a.toString())},_null:function(){t("Null")},_undefined:function(){t("Undefined")},_regexp:function(a){t("regex:"+a.toString())},_uint8array:function(a){t("uint8array:"),this.dispatch(Array.prototype.slice.call(a))},_uint8clampedarray:function(a){t("uint8clampedarray:"),this.dispatch(Array.prototype.slice.call(a))},_int8array:function(a){t("int8array:"),this.dispatch(Array.prototype.slice.call(a))},_uint16array:function(a){t("uint16array:"),this.dispatch(Array.prototype.slice.call(a))},_int16array:function(a){t("int16array:"),this.dispatch(Array.prototype.slice.call(a))},_uint32array:function(a){t("uint32array:"),this.dispatch(Array.prototype.slice.call(a))},_int32array:function(a){t("int32array:"),this.dispatch(Array.prototype.slice.call(a))},_float32array:function(a){t("float32array:"),this.dispatch(Array.prototype.slice.call(a))},_float64array:function(a){t("float64array:"),this.dispatch(Array.prototype.slice.call(a))},_arraybuffer:function(a){t("arraybuffer:"),this.dispatch(new Uint8Array(a))},_url:function(a){t("url:"+a.toString())},_map:function(a){t("map:");let n=Array.from(a);this._array(n,!0)},_set:function(a){t("set:");let n=Array.from(a);this._array(n,!0)},_file:function(a){t("file:"),this.dispatch([a.name,a.size,a.type,a.lastModified])},_blob:function(){throw Error(`Hashing Blob objects is currently not supported
(see https://github.com/puleos/object-hash/issues/26)
Use "options.replacer" or "options.ignoreUnknown"
`)},_domwindow:function(){t("domwindow")},_bigint:function(a){t("bigint:"+a.toString())},_process:function(){t("process")},_timer:function(){t("timer")},_pipe:function(){t("pipe")},_tcp:function(){t("tcp")},_udp:function(){t("udp")},_tty:function(){t("tty")},_statwatcher:function(){t("statwatcher")},_securecontext:function(){t("securecontext")},_connection:function(){t("connection")},_zlib:function(){t("zlib")},_context:function(){t("context")},_nodescript:function(){t("nodescript")},_httpparser:function(){t("httpparser")},_dataview:function(){t("dataview")},_signal:function(){t("signal")},_fsevent:function(){t("fsevent")},_tlswrap:function(){t("tlswrap")}}}function Pe(){return{buf:"",write:function(e){this.buf+=e},end:function(e){this.buf+=e},read:function(){return this.buf}}}function Te(e,r){let t=this[e];return t instanceof Date?`__raycast_cached_date__${t.toISOString()}`:Buffer.isBuffer(t)?`__raycast_cached_buffer__${t.toString("base64")}`:r}function Ue(e,r){return typeof r=="string"&&r.startsWith("__raycast_cached_date__")?new Date(r.replace("__raycast_cached_date__","")):typeof r=="string"&&r.startsWith("__raycast_cached_buffer__")?Buffer.from(r.replace("__raycast_cached_buffer__",""),"base64"):r}function K(e){let r=se.default.createHash("sha1");return oe(r).dispatch(e),r.digest("hex")}var Re=Symbol("cache without namespace"),ne=new Map;function Ce(e,r,t){let a=t?.cacheNamespace||Re,n=ne.get(a)||ne.set(a,new m.Cache({namespace:t?.cacheNamespace})).get(a);if(!n)throw new Error("Missing cache");let c=x(e),s=x(r),u=(0,o.useSyncExternalStore)(n.subscribe,()=>{try{return n.get(c.current)}catch($){console.error("Could not get Cache data:",$);return}}),i=(0,o.useMemo)(()=>{if(typeof u<"u"){if(u==="undefined")return;try{return JSON.parse(u,Ue)}catch($){return console.warn("The cached data is corrupted",$),s.current}}else return s.current},[u,s]),l=x(i),d=(0,o.useCallback)($=>{let _=typeof $=="function"?$(l.current):$;if(typeof _>"u")n.set(c.current,"undefined");else{let E=JSON.stringify(_,Te);n.set(c.current,E)}return _},[n,c,l]);return[i,d]}var N=Symbol();function Ie(e,r,t){let{initialData:a,keepPreviousData:n,internal_cacheKeySuffix:c,...s}=t||{},u=(0,o.useRef)(null),[i,l]=Ce(K(r||[])+c,N,{cacheNamespace:K(e)}),d=(0,o.useRef)(i!==N?i:a),$=(0,o.useRef)(void 0),{mutate:_,revalidate:E,...w}=q(e,r||[],{...s,onData(k,b){$.current=b,s.onData&&s.onData(k,b),!(b&&b.page>0)&&(u.current="promise",d.current=k,l(k))}}),g,y=w.pagination;$.current&&$.current.page>0&&w.data?g=w.data:u.current==="promise"?g=d.current:n&&i!==N?(g=i,y&&(y.hasMore=!0,y.pageSize=i.length)):n&&i===N?g=d.current:i!==N?(g=i,y&&(y.hasMore=!0,y.pageSize=i.length)):g=a;let A=x(g),U=(0,o.useCallback)(async(k,b)=>{let P;try{if(b?.optimisticUpdate){typeof b?.rollbackOnError!="function"&&b?.rollbackOnError!==!1&&(P=structuredClone(A.current));let T=b.optimisticUpdate(A.current);u.current="cache",d.current=T,l(T)}return await _(k,{shouldRevalidateAfter:b?.shouldRevalidateAfter})}catch(T){if(typeof b?.rollbackOnError=="function"){let R=b.rollbackOnError(A.current);u.current="cache",d.current=R,l(R)}else b?.optimisticUpdate&&b?.rollbackOnError!==!1&&(u.current="cache",d.current=P,l(P));throw T}},[l,_,A,d,u]);return(0,o.useEffect)(()=>{i!==N&&(u.current="cache",d.current=i)},[i]),{data:g,isLoading:w.isLoading,error:w.error,mutate:$.current&&$.current.page>0?_:U,pagination:y,revalidate:E}}function Oe(e){if(e){let r=De(e);if(!r)return!1;if(r.subtype==="json"||r.suffix==="json"||r.suffix&&/\bjson\b/i.test(r.suffix)||r.subtype&&/\bjson\b/i.test(r.subtype))return!0}return!1}var Le=/^([A-Za-z0-9][A-Za-z0-9!#$&^_-]{0,126})\/([A-Za-z0-9][A-Za-z0-9!#$&^_.+-]{0,126});?$/;function De(e){let r=e.indexOf(";"),t=r!==-1?e.slice(0,r).trim():e.trim(),a=Le.exec(t.toLowerCase().toLowerCase());if(!a)return;let n=a[1],c=a[2],s,u=c.lastIndexOf("+");return u!==-1&&(s=c.substring(u+1),c=c.substring(0,u)),{type:n,subtype:c,suffix:s}}async function Me(e){if(!e.ok)throw new Error(e.statusText);let r=e.headers.get("content-type");return r&&Oe(r)?await e.json():await e.text()}function Ne(e){return{data:e,hasMore:!1}}function ce(e,r){let{parseResponse:t,mapResult:a,initialData:n,execute:c,keepPreviousData:s,onError:u,onData:i,onWillExecute:l,failureToastOptions:d,...$}=r||{},_={initialData:n,execute:c,keepPreviousData:s,onError:u,onData:i,onWillExecute:l,failureToastOptions:d},E=x(t||Me),w=x(a||Ne),g=(0,o.useRef)(null),y=(0,o.useRef)(null),A=typeof e=="function"?e({page:0}):void 0;(!g.current||typeof y.current>"u"||y.current!==A)&&(g.current=e),y.current=A;let U=(0,o.useRef)(null),k=(0,o.useCallback)((T,R)=>async W=>{let V=await fetch(T(W),{signal:U.current?.signal,...R}),j=await E.current(V);return w.current?.(j)},[E,w]),b=(0,o.useCallback)(async(T,R)=>{let W=await fetch(T,{signal:U.current?.signal,...R}),V=await E.current(W);return w.current(V)?.data},[E,w]),P=(0,o.useMemo)(()=>y.current?k:b,[y,b,k]);return Ie(P,[g.current,$],{..._,internal_cacheKeySuffix:y.current+K(w.current)+K(E.current),abortable:U})}var Y=[{value:"unstable",title:"Unstable (rolling release)"},{value:"25.05",title:"NixOS 25.05"}],Q=["package_attr_name^9","package_attr_name.edge^9","package_pname^6","package_pname.edge^6","package_attr_name_query^4","package_attr_name_query.edge^4","package_description^1.3","package_description.edge^1.3","package_longDescription^1","package_longDescription.edge^1","flake_name^0.5","flake_name.edge^0.5","package_attr_name_reverse^7.2","package_attr_name_reverse.edge^7.2","package_pname_reverse^4.800000000000001","package_pname_reverse.edge^4.800000000000001","package_attr_name_query_reverse^3.2","package_attr_name_query_reverse.edge^3.2","package_description_reverse^1.04","package_description_reverse.edge^1.04","package_longDescription_reverse^0.8","package_longDescription_reverse.edge^0.8","flake_name_reverse^0.4","flake_name_reverse.edge^0.4"],le=["x86_64-linux","aarch64-linux","i686-linux","x86_64-darwin","aarch64-darwin"],z={authorization:"Basic YVdWU0FMWHBadjpYOGdQSG56TDUyd0ZFZWt1eHNmUTljU2g=",versionUrl:"https://raw.githubusercontent.com/NixOS/nixos-search/main/version.nix",searchBaseUrl:"https://search.nixos.org/backend",githubBaseUrl:"https://github.com/NixOS/nixpkgs/blob/nixos-unstable"},J={minSize:1,maxSize:200,defaultSize:20,tieBreaker:.7};async function ue({branchName:e}){let r=await fetch(z.versionUrl);if(!r.ok)throw new Error("Cannot access GitHub");let a=(await r.text()).match(/frontend\s*=\s*"([^"]+)"\s*;/);if(!a)throw new Error("Cannot parse frontend version from version.nix");let n=a[1].trim();return`${z.searchBaseUrl}/latest-${n}-nixos-${e}/_search`}function fe(e,r){let t=[...e].reverse().join("");return{size:r,sort:[{_score:"desc"},{package_attr_name:"desc"},{package_pversion:"desc"}],query:{bool:{filter:[{term:{type:{value:"package",_name:"filter_packages"}}}],must:[{dis_max:{tie_breaker:.7,queries:[{multi_match:{type:"cross_fields",query:e,analyzer:"whitespace",auto_generate_synonyms_phrase_query:!1,operator:"and",_name:`multi_match_${e}`,fields:Q}},{multi_match:{type:"cross_fields",query:t,analyzer:"whitespace",auto_generate_synonyms_phrase_query:!1,operator:"and",_name:`multi_match_${t}`,fields:Q}},{wildcard:{package_attr_name:{value:`*${e}*`}}}]}}]}}}}async function de(e){let r=await e.json();if("code"in r)throw new Error(r.message);if("error"in r)throw new Error(r.error.reason);if(!e.ok)throw new Error(e.statusText);return r.hits.hits.map(({_source:t,_id:a})=>({id:a,name:t.package_pname,attrName:t.package_attr_name,description:t.package_description,version:t.package_pversion,homepage:t.package_homepage,source:t.package_position&&`${z.githubBaseUrl}/${t.package_position.replace(/:([0-9]+)$/,"")}`,outputs:t.package_outputs,defaultOutput:t.package_default_output,platforms:t.package_platforms.filter(n=>le.includes(n)),licenses:t.package_license.map(n=>{let c;try{c=n.url??new URL(n.fullName).href}catch{c=null}return{name:n.fullName,url:c}})}))}var f=require("@raycast/api"),X=require("node:url"),p=require("react/jsx-runtime");function he({searchResult:e}){return(0,p.jsx)(f.List.Item,{title:e.attrName,actions:(0,p.jsxs)(f.ActionPanel,{children:[(0,p.jsx)(f.ActionPanel.Section,{children:(0,p.jsx)(f.Action.CopyToClipboard,{title:"Copy Package Attr Name",content:e.attrName})}),(0,p.jsxs)(f.ActionPanel.Section,{children:[e.homepage[0]?(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)(f.Action.OpenInBrowser,{title:"Open Package Homepage",url:e.homepage[0],shortcut:f.Keyboard.Shortcut.Common.Open}),(0,p.jsx)(f.Action.CopyToClipboard,{title:"Copy Package Homepage URL",content:e.homepage[0],shortcut:{macOS:{modifiers:["cmd","shift"],key:"h"},Windows:{modifiers:["ctrl","shift"],key:"h"}}})]}):null,e.source&&(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)(f.Action.OpenInBrowser,{title:"Open Package Source Code",url:e.source,shortcut:{macOS:{modifiers:["cmd","shift"],key:"o"},Windows:{modifiers:["ctrl","shift"],key:"o"}}}),(0,p.jsx)(f.Action.CopyToClipboard,{title:"Copy Package Source URL",content:e.source,shortcut:{macOS:{modifiers:["cmd","shift"],key:"s"},Windows:{modifiers:["ctrl","shift"],key:"s"}}})]})]})]}),detail:(0,p.jsx)(f.List.Item.Detail,{markdown:`# ${e.attrName}
${e.description??""}`,metadata:(0,p.jsxs)(f.List.Item.Detail.Metadata,{children:[(0,p.jsx)(f.List.Item.Detail.Metadata.Label,{title:"Name",text:e.name}),(0,p.jsx)(f.List.Item.Detail.Metadata.Label,{title:"Version",text:e.version}),e.homepage.map((r,t)=>r?(0,p.jsx)(f.List.Item.Detail.Metadata.Link,{title:"Homepage",target:r,text:new X.URL(r).host},r):(0,p.jsx)(f.List.Item.Detail.Metadata.Label,{title:"Homepage",icon:f.Icon.Minus},t)),e.source&&(0,p.jsx)(f.List.Item.Detail.Metadata.Link,{title:"Source",target:e.source,text:new X.URL(e.source).host}),e.licenses.map(r=>r.url?(0,p.jsx)(f.List.Item.Detail.Metadata.Link,{title:"License",target:r.url,text:r.name},r.url):(0,p.jsx)(f.List.Item.Detail.Metadata.Label,{title:"License",text:r.name},r.name)),(0,p.jsx)(f.List.Item.Detail.Metadata.TagList,{title:"Outputs",children:e.outputs.map(r=>(0,p.jsx)(f.List.Item.Detail.Metadata.TagList.Item,{text:r,color:r===e.defaultOutput?f.Color.PrimaryText:f.Color.SecondaryText},r))}),(0,p.jsx)(f.List.Item.Detail.Metadata.TagList,{title:"Platforms",children:e.platforms.map(r=>(0,p.jsx)(f.List.Item.Detail.Metadata.TagList.Item,{text:r},r))})]})})})}var L=require("react/jsx-runtime");function pe(){let{searchSize:e="20"}=(0,S.getPreferenceValues)(),r=Math.max(J.minSize,Math.min(J.maxSize,Math.trunc(+e)||J.defaultSize)),[t,a]=(0,F.useState)("unstable");(0,F.useEffect)(()=>{let l=!0;return S.LocalStorage.getItem("selectedBranch").then(d=>{l&&d&&Y.some($=>$.value===d)&&a(d)}),()=>{l=!1}},[]);let{isLoading:n,data:c}=q(async l=>await ue({branchName:l}),[t],{failureToastOptions:{title:"Could not get search URL"}}),[s,u]=(0,F.useState)(""),i=ze({url:c,searchText:s,searchSize:+r});return(0,L.jsx)(S.List,{isLoading:i.isLoading||n,onSearchTextChange:u,searchBarPlaceholder:"Search nix packages...",throttle:!0,isShowingDetail:!0,searchBarAccessory:(0,L.jsx)(S.List.Dropdown,{tooltip:"Select NixOS Branch",value:t,onChange:l=>{a(l),S.LocalStorage.setItem("selectedBranch",l)},children:Y.map(l=>(0,L.jsx)(S.List.Dropdown.Item,{value:l.value,title:l.title},l.value))}),children:i.results.length===0?(0,L.jsx)(S.List.EmptyView,{icon:S.Icon.MagnifyingGlass,title:s?"No packages found":"Search NixOS Packages",description:s?"Try a different search term":"Start typing to search for packages"}):(0,L.jsx)(S.List.Section,{title:"Results",subtitle:i.results.length+"",children:i.results.map(l=>(0,L.jsx)(he,{searchResult:l},l.id))})})}function ze({url:e,searchText:r,searchSize:t}){let{isLoading:a,data:n}=ce(e,{method:"POST",headers:{Authorization:z.authorization,"Content-Type":"application/json"},body:JSON.stringify(fe(r,t)),parseResponse:de,initialData:[],execute:!!e&&r.length>0,failureToastOptions:{title:"Could not perform search"}});return{isLoading:a,results:r.length?n:[]}}
