"use strict";(("undefined"!=typeof self?self:global).webpackChunkclient_web=("undefined"!=typeof self?self:global).webpackChunkclient_web||[]).push([[9209,1408],{8541:(e,t,a)=>{a.d(t,{w:()=>u});var n=a(30758),r=a(97500),s=a.n(r),i=a(23965),o=a(64721),c=a(53998),l=a(16992);const d="pvGZ831aNzHTQMZ8CA_u";var m=a(86070);const u=(0,n.memo)((function({onClick:e=(()=>{}),size:t,className:a,uri:r,sharingInfo:u,interactionData:h,ariaLabel:g=o.Ru.get("mwp.list.item.share"),condensedAll:p,placement:x,semanticColor:v,disableTooltip:f}){const{onCopyLink:j}=(0,l.L)({sharingInfo:u,uri:r,interactionData:h}),y=(0,n.useCallback)((()=>{j(),e()}),[e,j]);return(0,m.jsx)(c.a,{ariaLabel:g,size:t,onClick:y,className:s()(d,a),icon:i.C,condensedAll:p,placement:x,condensed:!0,semanticColor:v,disableTooltip:f})}))},64055:(e,t,a)=>{a.d(t,{Z:()=>i});var n=a(30758),r=a(18113),s=a(86070);const i=(0,n.memo)((function({children:e}){return(0,s.jsx)("span",{className:r.A.detailsText,children:e})}))},32875:(e,t,a)=>{a.d(t,{q:()=>l});var n=a(30758),r=a(97500),s=a.n(r),i=a(75341),o=a(59459),c=a(86070);const l=n.memo(n.forwardRef((function({html:e,onTimeStampClick:t,enableTimestamps:a=!1,enableAutomaticLinkification:r=!1,semanticColor:l="textSubdued",className:d,asTextContent:m=!1},u){const h=(0,n.useMemo)((()=>(0,i.v)(e,t,a,l,r,m)),[a,r,e,t,l,m]);return(0,c.jsx)("div",{ref:u,className:s()(o.A.HTMLDescription,d),children:h})})))},75341:(e,t,a)=>{a.d(t,{v:()=>x});var n=a(30758),r=a(6936),s=a.n(r),i=a(6128);const o=/(\((?:[0-9]{1,3}:){1,2}[0-9]{2}\))/g;var c=a(55285),l=a(86070);const d=/((?:(?:https?:\/\/)|www\.)(?:(?:(?:[a-z\u00a1-\uffff0-9][-_]*)*[a-z\u00a1-\uffff0-9]+)(?:\.(?:[a-z\u00a1-\uffff0-9]-*)*[a-z\u00a1-\uffff0-9]+)*(?:\.(?:[a-z\u00a1-\uffff]{2,}))\.?)(?:[/?#][^\s"]*)?)/gi,m=/^https?:\/\//;function u(e){return"string"==typeof e?(0,l.jsx)(l.Fragment,{children:e.split(d).map(((e,t)=>t%2?(0,l.jsx)(c.N,{to:`${m.test(e)?"":"https://"}${e}`,children:e},t):e))}):e}var h=a(47723),g=a(59459);const p=(e=(()=>{}),t,a,r)=>{let s=0;const o={_:(e,t,i)=>{const o=void 0===t?e:i;return(0,l.jsx)(n.Fragment,{children:a&&!r?u(o):o},"fragment"+s++)}};if(r)return o;return{...o,p:e=>(0,l.jsx)(i.E,{as:"p",variant:"bodyMedium",semanticColor:t,className:g.A.Paragraph,children:a?u(e.children):e.children}),a:t=>t.href?.startsWith("#t=")?(0,l.jsx)(h.D,{onClick:e,children:t.children}):t.href?(0,l.jsx)(c.N,{to:t.href,children:t.children}):(0,l.jsx)(l.Fragment,{children:t.children}),ul:e=>(0,l.jsx)("ul",{className:g.A.List,children:e.children}),ol:e=>(0,l.jsx)("ol",{className:g.A.List,children:e.children}),li:e=>(0,l.jsx)(i.E,{as:"li",variant:"bodyMedium",semanticColor:t,className:g.A.ListItem,children:a?u(e.children):e.children}),br:()=>(0,l.jsx)("br",{}),h1:e=>(0,l.jsx)(i.E,{as:"h1",variant:"bodyMediumBold",semanticColor:t,className:g.A.Heading,children:e.children}),h2:e=>(0,l.jsx)(i.E,{as:"h2",variant:"bodyMediumBold",semanticColor:t,className:g.A.Heading,children:e.children}),h3:e=>(0,l.jsx)(i.E,{as:"h3",variant:"bodyMediumBold",semanticColor:t,className:g.A.Heading,children:e.children}),h4:e=>(0,l.jsx)(i.E,{as:"h4",variant:"bodyMediumBold",semanticColor:t,className:g.A.Heading,children:e.children}),h5:e=>(0,l.jsx)(i.E,{as:"h5",variant:"bodyMediumBold",semanticColor:t,className:g.A.Heading,children:e.children}),h6:e=>(0,l.jsx)(i.E,{as:"h6",variant:"bodyMediumBold",semanticColor:t,className:g.A.Heading,children:e.children}),time:t=>(0,l.jsx)(h.D,{onClick:e,children:t.children})}},x=(e,t=(()=>{}),a=!1,n="textSubdued",r=!1,i=!1)=>{const c=a?e.split(o).map((e=>e.match(o)?`(<time>${e.replace("(","").replace(")","")}</time>)`:e)).join(""):e;let l;try{l=s()(c,{transform:p(t,n,r,i),dangerouslySetChildren:[]})}catch{l=e}return l}},88588:(e,t,a)=>{a.d(t,{I:()=>m});var n=a(1978),r=a(91974),s=a(96613),i=a(75627),o=a(64721),c=a(30299),l=a(11716),d=a(86070);const m=({concepts:e,spec:t})=>{const a=(0,n.Zp)(),m=e.filter(c.V5),u=(0,l.s)();return(0,d.jsx)("div",{style:{"--background-base":"transparent"},children:(0,d.jsx)(r.I,{mode:"navigation","aria-label":o.Ru.get("card.tag.genre"),children:m.map(((e,n)=>{const r=`/concerts/genre/${(0,i.o_h)(e.data.uri)?.id}-${e.data.name.replaceAll(" ","-")}`;return(0,d.jsx)(s.v,{onClick:s=>{((e,n,r,s)=>{e.preventDefault(),a(n);const o=(0,i.o_h)(r)?.id;if(!o||!t)return;const c=t.conceptButtonFactory({uri:r,position:s}).hitUiNavigate({destination:`spotify:concerts:genre:${o}`});u.logInteraction(c)})(s,r,e.data.uri,n+1)},href:r,children:e.data.name},e.data.uri)}))})})}},74542:(e,t,a)=>{a.d(t,{A:()=>y});var n=a(30758),r=a(10796),s=a(6128),i=a(24834),o=a(55285),c=a(96319),l=a(80940);const d="wedRUk4eiBo9n9vqXLhU",m="hMbtEskyvMbDiwq1EScA",u="HYVIJaYYiCTgSCHie70L",h="SPbe_Q1wtiZQCmo0QKUy",g="TRp4tgG7_cymGIXDevIP",p="tC1Y_nwyyly7cpIGqF5K",x="l93AfoV_qHnMQSQBB5GK",v="DgDBmSR2sbwji2UfqxIf",f="EkGb0ZzhswreSvpZoioY";var j=a(86070);const y=(0,n.memo)((e=>{const{uri:t,title:a,imageUrl:n,date:y,subTitle:C,firstParty:b,onClick:_}=e,N=y?(0,c.l4)(y):void 0;return(0,j.jsx)(o.N,{to:t,className:d,"data-testid":"concert-card",onClick:_,children:(0,j.jsxs)("div",{className:m,children:[(0,j.jsx)(l.b,{children:(0,j.jsx)("div",{role:"img",className:f,style:{backgroundImage:`url(${n})`},children:!n&&(0,j.jsx)(r.r,{role:"img",size:"xxlarge",semanticColor:"textSubdued"})})}),N&&(0,j.jsxs)("time",{className:u,dateTime:y,children:[(0,j.jsx)(s.E,{as:"div",variant:"bodySmall",children:(0,c.tj)(N)}),(0,j.jsx)(s.E,{as:"div",variant:"bodyMediumBold",children:(0,c.Py)(N)})]}),(0,j.jsxs)("div",{className:h,dir:"auto",children:[(0,j.jsx)(s.E,{as:"h3",variant:"bodyMedium",className:g,children:a}),(0,j.jsxs)("div",{className:p,children:[b&&(0,j.jsx)("span",{className:v,children:(0,j.jsx)(i.D,{size:"small"})}),(0,j.jsx)(s.E,{as:"span",className:x,variant:"bodySmall","data-testid":"location-name",semanticColor:"textSubdued",children:C})]})]})]})})}))},7982:(e,t,a)=>{a.d(t,{DL:()=>o,Qe:()=>c,bU:()=>d,he:()=>l,nm:()=>i});var n=a(42534);const r=(e,t)=>{if(!e.includes(t))return;const a=e.split("/"),n=a.findIndex((e=>e===t));return a[n+1]},s=(e,t)=>{const a=["/concerts"];return(t.location||e.includes("location")&&null!==t.location)&&(a.push("location"),a.push(String(t.location??r(e,"location")))),(t.genre||e.includes("genre")&&null!==t.genre)&&(a.push("genre"),a.push(String(t.genre??r(e,"genre")))),a.join("/")},i=(e,t,a)=>{if(!t)return s(e,{location:null});const n=a?.normalize().replaceAll(/\W+/g,"-");return s(e,n?{location:`${t}-${n}`}:{location:t})},o=(e,t,a)=>{if(!t)return s(e,{genre:null});const n=a?.normalize().replaceAll(/\W+/g,"-");return s(e,n?{genre:`${t}-${n}`}:{genre:t})},c=e=>{if(!e)return;const t=e.split("-"),[a]=t;return{id:`spotify:concept:${a}`,name:t.reduce(((e,t,a)=>0===a?e:`${e} ${t}`),"").trim()}};const l=e=>e.ticketers.some((e=>"spotify"===e.partnerDisplayName.toLowerCase())),d=e=>(0,n.x)(e,{representation:"date"})},49102:(e,t,a)=>{a.d(t,{d:()=>n});const n=new(a(86565).l)("addConcertToLibrary","mutation","c4670bb9503f201cff5a61ee426a0aa93cac0eaa1c1b9b8c66d53e058f270f7c",null)},54667:(e,t,a)=>{a.d(t,{$:()=>n});const n=new(a(86565).l)("removeConcertFromLibrary","mutation","2b6a3dc45db6b423eb36c628ccb26768f2c03e75ae274e09a1701336d46dd21d",null)},30299:(e,t,a)=>{a.d(t,{$V:()=>n,Bw:()=>l,Lw:()=>c,V5:()=>m,dR:()=>i,eO:()=>o,m4:()=>u,se:()=>s,w1:()=>d,ys:()=>r});const n=e=>"data"in e&&Object.keys(e.data).length>0,r=e=>"concerts"in(e??{}),s=e=>null!=e,i=e=>"__typename"in e&&"AllEvents"===e.__typename,o=e=>"__typename"in e,c=e=>"__typename"in e,l=e=>!!e&&"sections"in e,d=e=>"__typename"in e,m=e=>Object.keys(e).includes("data"),u=e=>void 0!==e&&Object.keys(e).includes("uri")},62515:(e,t,a)=>{a.r(t),a.d(t,{default:()=>Vt});var n=a(1978),r=a(6128),s=a(63166),i=a(3397),o=a(75627),c=a(64721),l=a(5608),d=a(18212),m=a(87244),u=a(64055),h=a(29080),g=a(7777),p=a(98991),x=a(17067),v=a(9498),f=a(88588),j=a(30758),y=a(82932),C=a(10718),b=a(7182),_=a(32875),N=a(55285),S=a(7982),k=a(85375),R=a(11716);const w="m8qhw073nx4vyHqaKQNk",D="ynP6muypg8KBMGNcHY5O",I="oDWtgFmvo78XypRSXSZE",T="XWKf1nJGSBaIxrSQhIft",M="nodWKfeO11pb9KDWwHMz",E="oFT4l9ImW_EmgL7n4Gpw";var L=a(86070);const A=(0,j.memo)((e=>{const{pathname:t}=(0,n.zy)(),{location:a,showTime:s,ageRestriction:i,htmlDescription:o,doorsOpenTime:l,spec:d}=e,m=(0,R.s)(),u=a.metroAreaLocation?(0,S.nm)(t,a.metroAreaLocation?.geonameId,a.metroAreaLocation?.fullName):null;return(0,L.jsxs)("div",{className:w,children:[o?.trim()&&(0,L.jsxs)("div",{className:D,children:[(0,L.jsx)(r.E,{as:"h2",variant:"titleSmall",className:I,children:c.Ru.get("artist.about")}),(0,L.jsx)(_.q,{html:o,onTimeStampClick:()=>{}})]}),(0,L.jsxs)("div",{className:D,children:[(0,L.jsx)(r.E,{as:"h3",variant:"titleSmall",className:I,children:c.Ru.get("tracklist.header.venue")}),(0,L.jsxs)("div",{className:E,children:[(0,L.jsx)(y.t,{className:T}),(0,L.jsxs)("div",{children:[(0,L.jsx)(r.E,{as:"h4",variant:"bodyMediumBold",className:M,children:a.name}),(0,L.jsx)(r.E,{as:"p",variant:"bodyMedium",children:(0,k.im)({...a,name:""})})]})]}),(0,L.jsxs)("div",{className:E,children:[(0,L.jsx)(C.p,{className:T}),(0,L.jsxs)("div",{children:[(0,L.jsxs)(r.E,{as:"h4",variant:"bodyMediumBold",className:M,children:[l&&(0,L.jsx)("time",{dateTime:l.toISOString(),children:c.Ru.get("concert.door_time",c.Ru.formatDate(l,{timeStyle:"short"}))}),l&&" • ",(0,L.jsx)("time",{dateTime:s.toISOString(),children:c.Ru.get("concert.show_time",c.Ru.formatDate(s,{timeStyle:"short"}))})]}),i?.trim()&&(0,L.jsx)(r.E,{as:"p",variant:"bodyMedium",children:i})]})]}),u&&(0,L.jsxs)("div",{className:E,children:[(0,L.jsx)(b.T,{className:T}),(0,L.jsx)(N.N,{to:u,onClick:()=>(e=>{const t=d.concertLocationLinkFactory().hitUiNavigate({destination:e});m.logInteraction(t)})(u),children:(0,L.jsx)(r.E,{variant:"bodyMedium",semanticColor:"textSubdued",children:c.Ru.get("concert.see_more_events_in_location",a.metroAreaLocation?.fullName)})})]})]})]})}));var F=a(49740),P=a(8541),U=a(44979),B=a(99903),z=a(99532),$=a(19516),V=a(63107),q=a(95309),Z=a(90561);const O=j.memo((function({uri:e}){const{spec:t}=(0,Z.o)(e);return(0,L.jsx)(q.pZ,{value:"concert",children:(0,L.jsxs)(B.W,{children:[(0,L.jsx)(V.h,{children:(0,L.jsx)(z.m,{spec:t,uri:e,displayText:c.Ru.get("context-menu.copy-concert-link")})}),(0,L.jsx)($.q,{spec:t,uri:e})]})})}));var K=a(29004),H=a(11333),Q=a(53249),Y=a(43494),W=a(49102),X=a(54667),G=a(84576),J=a(72744),ee=a(33058);const te="JRuVlk6wpKk6ok7zuW6l",ae="YpfopxY2udneDY34uzRN",ne="KI_0F1jtTR5tWgl7gZ1E",re="gKtc3TdowDTXBaVESi1D",se="V8TIr8yJq4tYZfPEzm12",ie="rWFRSaU8daVvtbWEjvp7",oe="VvL91cIRcCi1hJh0K845",ce="LdW0YNvo_Y77hgqhL4zY",le="cTkykhjfHxkEGKbxSxXw",de="XgeTnLs82tTjczDR6oKn",me="P3fE7wn6Tqnibn3gljKV",ue="b3qjYcKXwrvfkQkOLMhZ",he="A8LG_5Dvp7IiXDtdR571",ge="O0PSSw8ttrMn9lzq_L16",pe="D_ffrfn62aOgZKOFfZVr",xe="OH4mOZCual2ejIodzIkL",ve="se_ixDV6hBf7lve861oU",fe="YDAJHPP5lDmg71SdvJZC",je="lKQxSRsi8KcoYx5D7mjh",ye="LUMel_X4gQK0J1i6X0sC",Ce="eIA_y6wnyKS7F4BkMraV",be="CKbduoHBINBakBcguVzi",_e="oCmeNmHdfNzMD6n4mSqw",Ne="l6M4kfGer7xxBaIPco5p",Se="r5hQwOq0RGo1ptvIthJ0",ke="YDoK0ksaHmDfScvMhW4l",Re="ATEdvw7q5RVFqV_7k5xm",we="UHICx5Pfx66QaNrl4qIZ",De="G3mQO0982j3xeMZSBLbU",Ie=(e,t)=>e(W.d,{concertUri:t}),Te=(e,t)=>e(X.$,{concertUri:t}),Me=(0,j.memo)((e=>{const[t,a]=(0,j.useState)(!1),{concertUri:n,entitySpec:r}=e,s=(0,j.useMemo)((()=>r?.interestedButtonFactory()),[r]),{getGraphQLLoader:i}=(0,G.mv)(),o=i(),{addConcertToLibraryMutation:l=Ie,removeConcertFromLibraryMutation:d=Te}=e,m=(0,ee.t)(s),u=(0,R.s)(),{enqueueSnackbar:h}=(0,J.d)();return(0,L.jsx)(Y.Zp,{label:c.Ru.get("concerts_interested_tooltip"),placement:"top-end",children:(0,L.jsx)(K.n,{ref:m,size:"small",iconLeading:e.saved?H.i:Q.u,className:ye,"aria-checked":e.saved,disabled:t,onClick:async()=>{a(!0);try{if(e.saved){const t=s?.hitRemoveInterest();t&&u.logInteraction(t),await d(o,n),await e.onSaveConcert(),h(c.Ru.get("concerts_removed-from-your-saved-events"))}else{const t=s?.hitAddInterest();t&&u.logInteraction(t),await l(o,n),await e.onSaveConcert(),h(c.Ru.get("concerts_added-to-your-saved-events"))}}finally{a(!1)}},children:c.Ru.get("concerts_interested")})})}));var Ee=a(61214),Le=a(20409);var Ae=a(14761),Fe=a(41089),Pe=a(35916),Ue=a(40748),Be=a(17674);const ze="m8nwW8kkQCgKh2Wo82Qw",$e="xiSw7Lh5ojpJOB4JogfW",Ve="HGzguF7WF1y4htrRTgR9",qe="SsVIWIPjeIKd9XuPqFzA",Ze=e=>(0,L.jsx)(Be.A,{contentLabel:c.Ru.get("concerts.no_codes_title"),isOpen:!0,className:ze,onRequestClose:e.onClose,children:(0,L.jsxs)("section",{className:Ve,children:[(0,L.jsx)("div",{className:$e,children:(0,L.jsx)(Oe,{"aria-label":c.Ru.get("close"),iconOnly:Fe.M,size:"small",onClick:e.onClose})}),(0,L.jsxs)("div",{className:qe,children:[(0,L.jsx)(r.E,{variant:"titleSmall",semanticColor:"textBase",children:c.Ru.get("concerts.no_codes_title")}),(0,L.jsx)("div",{children:(0,L.jsx)(r.E,{children:c.Ru.get("concert.presale.no_codes")})}),(0,L.jsx)("div",{children:(0,L.jsx)(Ee.$,{href:e.url,target:"_blank",iconTrailing:Pe.H,onClick:()=>{window.open(e.url)},children:c.Ru.get("concerts.event.view")})})]})]})});var Oe=(0,Ae.Ay)(Ue.H).withConfig({displayName:"PresaleNoCodesModal___StyledButtonTertiary",componentId:"sc-1yajat8-0"})({color:"#FFFFFF",backgroundColor:"#000000",cursor:"pointer"}),Ke=a(86565);const He=new Ke.l("requestPromoCode","mutation","e90e712768b6041ed97f49184289f5fe0d8841134dd715f1f79c704994cd0ac7",null),Qe=(e,t)=>e&&e(He,{accessCode:t}),Ye=e=>{const[t,a]=(0,j.useState)(!1),[n,r]=(0,j.useState)(!1),{requestPromoCode:s=Qe}=e,{getGraphQLLoader:i}=(0,G.mv)(),o=i(),l=(0,R.s)(),d=(0,j.useMemo)((()=>e.spec?.ticketRestrictedAccessCodeButtonFactory({uri:e.concertUri})),[e.spec,e.concertUri]),m=e.hasPromoCodes?c.Ru.get("concerts.claim_code"):c.Ru.get("concerts.event.view");return(0,L.jsxs)(L.Fragment,{children:[(0,L.jsx)(Ee.$,{className:Ce,size:"small",onClick:async()=>{a(!0),d&&l.logInteraction(d?.hitUiReveal());try{const i=await s(o,e.accessCode);n=i?.data?.requestEventOfferPromoCode,void 0!==n&&"code"in n&&e.onComplete(i.data.requestEventOfferPromoCode.code),t=i?.data?.requestEventOfferPromoCode,void 0!==t&&"message"in t&&r(!0),a(!1)}catch{r(!0),a(!1)}var t,n},children:t?(0,L.jsx)(Le.U,{}):m}),n&&(0,L.jsx)(Ze,{onClose:()=>r(!1),url:e.url})]})};var We=a(96319),Xe=a(89494),Ge=a(65311),Je=a(90573),et=a(70490),tt=a(19434);const at=(0,j.lazy)((()=>a.e(4797).then(a.bind(a,44797)))),nt=(0,j.memo)((e=>{const t=(0,Ge.V)(),[a,n]=(0,j.useState)(""),{concertUri:s,offer:i,position:o,spec:l,concertSpec:d,isCancelled:m=!1}=e,u=i.availability===tt.sg.SoldOut,h="Spotify"===i.providerName,g=i.url,p=(0,R.s)(),x=(0,Xe.W)(),v=(0,j.useMemo)((()=>l.ticketProviderCellFactory({identifier:i.providerName,position:o,uri:i.url})),[l,i.providerName,o,i.url]),f=(0,ee.t)(v),y=(0,j.useMemo)((()=>{if(m)return(0,L.jsx)(r.E,{as:"p",variant:"bodyMediumBold",semanticColor:"textSubdued",className:Se,children:c.Ru.get("concerts.cancelled")});if(u)return(0,L.jsx)(r.E,{as:"p",variant:"bodyMediumBold",semanticColor:"textSubdued",className:Se,children:c.Ru.get("concerts.soldout")});if(i.availability===tt.sg.FewLeft)return(0,L.jsx)(r.E,{as:"p",variant:"bodyMediumBold",semanticColor:"textPositive",className:_e,children:c.Ru.get("concerts.few_left")});if(i.urlType===tt.I2.EventPage)return null;const e={"on-sale":c.Ru.get("concerts.on_sale"),presale:c.Ru.get("concerts.presale")};return(0,L.jsxs)(L.Fragment,{children:[e[i.saleType]&&(0,L.jsx)(r.E,{as:"p",variant:"bodyMediumBold",semanticColor:"textPositive",className:_e,children:e[i.saleType]}),h&&i.minPrice&&(0,L.jsx)(r.E,{as:"p",variant:"bodyMediumBold",semanticColor:"textPositive",className:be,children:c.Ru.get("concerts.ticket_price",i.minPrice)})]})}),[m,u,i.availability,i.urlType,i.saleType,i.minPrice,h]),C=(0,j.useMemo)((()=>i.urlType===tt.I2.EventPage||u||m||"presale"===i.saleType&&(0,We.m7)(i.dates.endDateIsoString)||"presale"===i.saleType&&t?(0,L.jsx)(Ee.$,{className:Ce,iconTrailing:Je.p,size:"small",children:c.Ru.get("concerts.event.view")}):"presale"===i.saleType&&i.accessCode?(0,L.jsx)(Ye,{onComplete:e=>n(e),accessCode:i.accessCode,url:i.url,hasPromoCodes:i.hasPromoCodes,concertUri:s,spec:l}):(0,L.jsx)(Ee.$,{className:Ce,iconTrailing:Je.p,size:"small",children:h?c.Ru.get("concert_buy_tickets"):c.Ru.get("concert_find_tickets")})),[s,t,m,h,u,i.accessCode,i.dates.endDateIsoString,i.hasPromoCodes,i.saleType,i.url,i.urlType,l]);return(0,L.jsxs)(L.Fragment,{children:[(0,L.jsxs)("a",{href:g,className:de,target:"_blank",ref:f,onClick:e=>{"presale"===i.saleType&&!(0,We.m7)(i.dates.endDateIsoString)||"presale"===i.saleType&&!t?e.preventDefault():(()=>{const e=v.hitNavigateToExternalUri({destination:i.url});e&&p.logInteraction(e),x({targetUri:s,intent:"find-concert",type:"click"})})()},children:[(0,L.jsx)("div",{className:me,children:(0,L.jsx)(et._,{loading:"eager",src:i.providerImageUrl,height:"100%",width:"100%",className:ue,children:(0,L.jsx)(b.T,{className:he,size:"medium"})})}),(0,L.jsxs)("div",{className:ge,children:[(0,L.jsxs)("div",{dir:"auto",className:Ne,children:[y,(0,L.jsx)(r.E,{as:"p",semanticColor:"textSubdued",children:i.providerName})]}),C]})]}),a&&(0,L.jsx)(at,{url:g,dates:{start:i.dates.startDateIsoString,end:i.dates.endDateIsoString},code:a,onClose:()=>n(""),spec:d})]})})),rt=(0,j.memo)((e=>{const{concertUri:t,offers:a,entitySpec:n,isCancelled:s}=e,i=(0,j.useMemo)((()=>n.ticketProviderListFactory()),[n]),o=(0,ee.t)(i),l=!a.find((e=>e.urlType===tt.I2.TicketPage)),d=!a.find((e=>e.availability!==tt.sg.SoldOut)),m=!l&&!d&&!s;return(0,L.jsxs)(L.Fragment,{children:[m&&(0,L.jsx)(r.E,{as:"h2",variant:"titleSmall",children:c.Ru.get("concert.header.tickets_available_on")}),(0,L.jsx)("div",{ref:o,className:le,children:a.map(((e,a)=>(0,L.jsx)(nt,{concertUri:t,offer:e,position:a,onRemindMe:()=>{},spec:i,concertSpec:n,isCancelled:s},e.url)))})]})}));var st=a(19412);const it=e=>{const{locationName:t,latitude:a,longitude:n,onClick:s}=e,i=new URL("https://maps.google.com/");return i.searchParams.set("q",t),a&&n&&i.searchParams.set("ll",`${a},${n}`),(0,L.jsx)("a",{href:i.href,target:"_blank",onClick:()=>s?.(i.href),children:(0,L.jsx)(r.E,{as:"h2",variant:"titleSmall",children:t})})},ot=(0,j.memo)((e=>{if((0,s.NC)(st.DKh)&&((t=e.venue)&&Object.keys(t.data).includes("uri"))){const t=e.venue.data.uri;return(0,L.jsx)(N.N,{to:t,onClick:()=>e.onClick?.(t),children:(0,L.jsx)(r.E,{as:"h2",variant:"titleSmall",children:e.locationName})})}var t;return(0,L.jsx)(it,{...e})})),ct=(0,j.memo)((e=>{const{concert:t,entitySpec:a}=e,n=(0,R.s)(),s=(0,Ge.V)(),i=(0,We.l4)(t.startDateIsoString),o=e.concert.status===tt.TA.Cancelled;if((0,We.m7)(t.startDateIsoString))return(0,L.jsxs)("div",{className:ce,children:[(0,L.jsx)(r.E,{as:"h2",variant:"titleSmall",children:c.Ru.get("concert_event_ended")}),(0,L.jsx)(r.E,{variant:"bodyMedium",children:(0,L.jsx)(N.N,{to:"spotify:concerts",children:c.Ru.get("concert_past_message")})})]});return(0,L.jsxs)("div",{className:ce,children:[(0,L.jsx)(ot,{venue:t.venue,locationName:(0,k.im)(t.location),latitude:t.location.coordinates?.latitude,longitude:t.location.coordinates?.longitude}),(0,L.jsx)(r.E,{as:"h2",variant:"bodySmall",className:fe,children:(0,L.jsx)("time",{dateTime:t.startDateIsoString,children:[(0,We.Y)(i),(0,We.WB)(i)].join(" • ")})}),(0,L.jsxs)("div",{className:te,children:[!s&&(0,L.jsx)(Me,{concertUri:t.uri,entitySpec:a,saved:t.saved,onSaveConcert:e.onSaveConcert}),(0,L.jsx)(P.w,{uri:t.uri,sharingInfo:null,interactionData:{intent:"share",type:"click"},onClick:()=>{const e=a.shareEventButtonFactory({uri:t.uri}).hitShare({entityToBeShared:t.uri,shareId:t.uri});e&&n.logInteraction(e)},className:ke,ariaLabel:c.Ru.get("concerts_share_with_friends")}),(0,L.jsx)(U.b,{menu:(0,L.jsx)(O,{uri:t.uri}),onShow:()=>{const e=a.contextMenuButtonFactory().hitUiReveal();e&&n.logInteraction(e)},children:(0,L.jsx)(F.e,{size:"large"})})]}),(0,L.jsx)(rt,{concertUri:t.uri,offers:t.offers.items,entitySpec:a,isCancelled:o})]})})),lt="QQPv9DSFY0v1R2J2GFAt",dt=()=>(0,L.jsxs)(L.Fragment,{children:[(0,L.jsx)(r.E,{as:"p",variant:"marginal",semanticColor:"textSubdued",className:lt,children:c.Ru.get("events_page.disclaimer")}),(0,L.jsx)(r.E,{as:"p",variant:"marginal",semanticColor:"textSubdued",children:c.Ru.get("events_page.timezone_hint")})]});var mt=a(51330),ut=a(71420),ht=a(81799),gt=a(80940);const pt="Dry_NQGsDIHDZtrVXCkm",xt="afT9IeZ3a3xSlKP0pSJH",vt="cBs7zoipfqjsCHbDjY_p",ft="wDz6TsRKNxwV4mlO1EMX",jt="B7ChxzxV0z17kJj9aZSD",yt=(0,j.memo)((e=>{const{imageUri:t,name:a,uri:n,onClick:s}=e,i=(0,L.jsxs)(N.N,{to:n,className:xt,onClick:s,children:[t?(0,L.jsx)(gt.b,{children:(0,L.jsx)("div",{"data-testid":"image-container",className:jt,style:{backgroundImage:`linear-gradient(180deg, rgba(18, 18, 18, 0) 0%, rgba(18, 18, 18, 0.5) 50.52%, rgba(18, 18, 18, 0.7) 100%), url(${t})`}})}):null,(0,L.jsx)("div",{className:vt,children:(0,L.jsx)(r.E,{as:"h3",variant:"titleMedium",className:ft,children:a})})]});return(0,L.jsx)("div",{className:pt,children:i})})),Ct=yt;var bt=a(68053);const _t=(e,t)=>new Date(e.date.isoString).getTime()-new Date(t.date.isoString).getTime(),Nt=({artist:e,spec:t})=>{const a=(0,R.s)(),n=e.goods.events.concerts.items.filter((e=>e.nearUser)).sort(_t).shift(),r=n&&(e=>{const t=c.Ru.formatDate((0,We.l4)(e?.date.isoString),{day:"numeric",month:"short"});return e.venue.location?.name?`${t}, ${e.venue.location.name}`:t})(n),s=e.goods.events.userLocation?.name,i=`${e.uri}:concerts`;return(0,L.jsxs)("div",{className:we,children:[n&&s&&(0,L.jsxs)("div",{className:De,children:[(0,L.jsx)(bt.Z,{children:c.Ru.get("concerts.next_concert_near_location_colon",s)}),(0,L.jsx)(N.N,{to:n.uri,onClick:()=>(e=>{const n=t.nextConcertNearUserLinkFactory({uri:e}).hitUiNavigate({destination:e});a.logInteraction(n)})(n.uri),children:(0,L.jsx)(bt.Z,{semanticColor:"textSubdued",children:r})})]}),(0,L.jsxs)("div",{className:De,children:[(0,L.jsx)(bt.Z,{children:c.Ru.get("concerts.on_tour_colon")}),(0,L.jsx)(N.N,{to:i,onClick:()=>{const e=t.artistEventsLinkFactory({uri:i}).hitUiNavigate({destination:i});a.logInteraction(e)},children:(0,L.jsx)(bt.Z,{semanticColor:"textSubdued",children:c.Ru.get("concerts.view_all_upcoming_concerts_count",e.goods.events.concerts.totalCount)})})]})]})},St=(0,j.memo)((e=>{const{artist:t,position:a,lineupSpec:n}=e,r=(0,j.useMemo)((()=>n.artistRowFactory({position:a,uri:t.uri})),[n,a,t.uri]),s=(0,R.s)(),i=t.relatedContent.featuringV2.items.flatMap((e=>{const{data:t}=e;return"Playlist"===t.__typename&&"artistsets"===t.format?[t]:[]})),o=t.discography.popularReleasesAlbums.items,l=t.visuals.avatarImage?.sources?.[0],d=(0,L.jsx)(Ct,{uri:t.uri,name:t.profile.name,imageUri:l?.url,onClick:()=>{const e=r?.artistCardFactory().hitUiNavigate({destination:t.uri});e&&s.logInteraction(e)}},t.uri),m=i.map(((e,t)=>{const a="User"===e.ownerV2.data.__typename&&e.ownerV2.data.name||e.name;return(0,L.jsx)(ut.B,{index:t,uri:e.uri,name:e.name,images:e.images.items[0]?.sources,description:e.description||"",authorName:a},e.uri)})),u=o.map(((e,t)=>{const a=e.artists.items.map((e=>({uri:e.uri,name:e.profile.name})));return(0,L.jsx)(mt.a,{uri:e.uri,index:t,artists:a,images:e.coverArt?.sources||[],name:e.name,sharingInfo:e.sharingInfo},e.uri)}));return(0,L.jsxs)(q.pZ,{value:"headered-grid",index:a,children:[(0,L.jsx)(ht.$,{title:0===a?c.Ru.get("concert.lineup"):"",total:2+m.length+u.length,seeAllUri:t.uri,seeAllLabel:c.Ru.get("view.see-all"),onClickShelfSeeAll:()=>{const e=r?.seeDiscographyLinkFactory().hitUiNavigate({destination:t.uri});e&&s.logInteraction(e)},showSeeAll:!0,alwaysShowSeeAll:!0,children:[d,null,...m,...u],className:Re}),(0,L.jsx)(Nt,{artist:t,spec:r})]},t.uri)})),kt=(0,j.memo)((e=>{const{artists:t,entitySpec:a}=e,n=(0,j.useMemo)((()=>a.lineupArtistsFactory()),[a]),r=(0,ee.t)(n);return(0,L.jsx)("div",{ref:r,className:pe,children:t.flatMap(((e,t)=>{if("Artist"!==e.data.__typename)return[];const a=e.data;return[(0,L.jsx)(St,{artist:a,position:t,lineupSpec:n},a.uri)]}))})}));var Rt=a(74542);const wt="r4YSqQ00n2_0i2tWtlPj",Dt="yEpakiIFqVrPYCcY_UcX",It="TIxb8ebn0Jes35eTIcCQ",Tt=(0,j.memo)((e=>(0,L.jsxs)(N.N,{to:"spotify:concerts",className:wt,onClick:e.onClick,children:[(0,L.jsx)(gt.b,{children:(0,L.jsx)("div",{className:It,style:{backgroundImage:"linear-gradient(180deg, rgba(18, 18, 18, 0) 0%, rgba(18, 18, 18, 0.5) 50.52%, rgba(18, 18, 18, 0.7) 100%), url(https://concerts.spotifycdn.com/ConcertHubCard.png)"}})}),(0,L.jsx)("div",{className:Dt,children:(0,L.jsx)(r.E,{as:"h3",variant:"titleSmall",children:c.Ru.get("concerts_browse_more")})})]}))),Mt=(0,j.memo)((e=>{const{concert:t,position:a,recommendedSpec:n}=e,r=(0,R.s)(),s=t.artists.items.flatMap((e=>"Artist"===e.data.__typename?[e.data]:[])),i=s.map((e=>e.profile.name)),o=(0,k.tI)(t.title,t.festival,i)?t.title:(0,k.Ac)(i),c=s[0]?.visuals.avatarImage?.sources[0];return(0,L.jsx)(Rt.A,{uri:t.uri,title:o,date:t.startDateIsoString,subTitle:(0,k.im)(t.location),imageUrl:c?.url,firstParty:t.firstParty,onClick:()=>{const e=n?.concertCardFactory({position:a,uri:t.uri}).hitUiNavigate({destination:t.uri});e&&r.logInteraction(e)}})})),Et=(0,j.memo)((e=>{const{relatedConcerts:t,entitySpec:a}=e,n=(0,j.useMemo)((()=>a.recommendedConcertsFactory()),[a]),r=(0,R.s)(),s=(0,ee.t)(n),i=t.items.flatMap((e=>"ConcertV2"===e.data.__typename?[e.data]:[]));if(0===i.length)return null;return(0,L.jsx)("div",{ref:s,className:ve,"data-testid":"concert-recommendations",children:(0,L.jsx)(q.pZ,{value:"headered-grid",children:(0,L.jsxs)(ht.$,{title:c.Ru.get("concert.similar_events"),total:t.totalCount,className:je,showSeeAll:!0,alwaysShowSeeAll:!0,seeAllUri:"spotify:concerts",seeAllLabel:c.Ru.get("view.see-all"),withEncoreCards:!1,children:[(0,L.jsx)(Tt,{onClick:()=>{const e=n?.browseCardFactory().hitUiNavigate({destination:"spotify:concerts"});e&&r.logInteraction(e)}},"browse"),i.map(((e,t)=>(0,L.jsx)(Mt,{position:t,concert:e,recommendedSpec:n},e.uri)))]})})})}));var Lt=a(50684);const At=new Ke.l("concert","query","363ce7ab63390b702b6fc89bf9603b57adb5594b3750d3b60fda62816ab17cd6",null);var Ft=a(30299),Pt=a(8476),Ut=a(52343),Bt=a(1620),zt=a(27602);const $t=e=>{const{concert:t}=e,a=(0,s.NC)(zt.TQ),{spec:n}=(0,Bt.r)(i.b,{data:{identifier:(0,o.o_h)(t.uri)?.id,uri:t.uri}}),c=t.artists.items.flatMap((e=>"Artist"===e.data.__typename?[e.data]:[])),v=c[0].visuals.headerImage;(0,Pt.z)(v?.extractedColors?.colorDark.hex);const j=c.map((e=>e.profile.name)),y=(0,k.tI)(t.title,t.festival,j)?t.title:(0,k.re)(j),C=(0,We.l4)(t.startDateIsoString),b=t.concepts.items.filter(Ft.V5).sort(((e,t)=>e.weight-t.weight));return(0,L.jsxs)("section",{className:se,children:[(0,L.jsx)(d.Q,{children:(0,Ut.K9)(t.title,t.location.city,t.location.name,C)}),(0,L.jsxs)(m.z,{backgroundImages:v?.sources,children:[(0,L.jsxs)(h.Y,{children:[(0,L.jsx)(u.Z,{children:(0,L.jsx)("div",{className:ae,children:(0,L.jsx)(r.E,{as:"h1",variant:"titleSmall",className:ne,children:(0,L.jsx)("time",{dateTime:t.startDateIsoString,children:(0,We.Fn)(C)})})})}),(0,L.jsx)(x.mm,{className:ie,children:y}),a&&(0,L.jsx)(u.Z,{children:(0,L.jsx)(f.I,{concepts:b,spec:n.concertConceptsFactory()})})]}),(0,L.jsx)(g.h,{children:(0,L.jsx)("div",{className:xe,children:(0,L.jsx)(p.X,{text:y})})})]}),(0,L.jsxs)("div",{className:re,children:[(0,L.jsx)(l.K,{backgroundColor:v?.extractedColors?.colorDark.hex}),(0,L.jsxs)("div",{className:oe,children:[(0,L.jsx)(ct,{concert:t,entitySpec:n,onSaveConcert:e.onSaveConcert}),(0,L.jsx)(dt,{}),(0,L.jsx)(kt,{artists:t.artists.items,entitySpec:n}),(0,L.jsx)(A,{location:t.location,showTime:C,htmlDescription:t.htmlDescription,ageRestriction:t.ageRestriction,doorsOpenTime:t.doorsOpenTimeIsoString?(0,We.l4)(t.doorsOpenTimeIsoString):null,spec:n}),(0,L.jsx)(Et,{relatedConcerts:t.relatedConcerts,entitySpec:n})]})]})]})},Vt=()=>{const{concertId:e}=(0,n.g)(),t=`spotify:concert:${e}`,{loading:a,error:r,data:s,invalidate:i}=(o={uri:t},(0,Lt.I)(At,o,l));var o,l;return a?(0,L.jsx)(v.LoadingPage,{hasError:!1,errorMessage:""}):r||"ConcertV2"!==s?.concert.__typename?(0,L.jsx)(v.LoadingPage,{hasError:!0,errorMessage:c.Ru.get("concert.error.concert_not_found_title")}):(0,L.jsx)($t,{concert:s.concert,onSaveConcert:i})}},96319:(e,t,a)=>{a.d(t,{Fn:()=>u,MW:()=>h,Py:()=>d,VJ:()=>m,Vi:()=>v,WB:()=>g,WZ:()=>p,Y:()=>o,dp:()=>c,l4:()=>i,m7:()=>x,tX:()=>j,tj:()=>l});var n=a(12058),r=a(64721),s=a(30299);const i=e=>new Date(e.substring(0,16)),o=e=>r.Ru.formatDate(e,{weekday:"short",month:"short",day:"numeric"}),c=e=>r.Ru.formatDate(e,{weekday:"short",month:"short",day:"numeric",hour:"numeric",minute:"numeric"}),l=e=>r.Ru.formatDate(e,{month:"short"}),d=e=>r.Ru.formatDate(e,{day:"numeric"}),m=e=>r.Ru.formatDate(e,{weekday:"short"}),u=e=>r.Ru.formatDate(e,{month:"short",day:"numeric"}),h=e=>r.Ru.formatDate(e,{weekday:"short",hour:"numeric",minute:"numeric"}),g=e=>r.Ru.formatDate(e,{hour:"numeric",minute:"numeric"}),p=(e,t)=>{if(e.toDateString()===t.toDateString())return o(e);if(e.getMonth()===t.getMonth()){return`${r.Ru.formatDate(e,{day:"numeric",month:"short"})}–${r.Ru.formatDate(t,{day:"numeric"})}`}return`${r.Ru.formatDate(e,{day:"numeric",month:"short"})}–${r.Ru.formatDate(t,{day:"numeric",month:"short"})}`},x=e=>{if(!e)return!1;const t=new Date(e);return new Date>t},v=e=>{const[t]=e,a=e[e.length-1];return(0,s.$V)(t)&&(0,s.$V)(a)?{startDate:i(t.data.startDateIsoString),endDate:i(a.data.startDateIsoString)}:{startDate:new Date,endDate:new Date}},f={month:"short",day:"numeric"},j=e=>{if((0,n.r)(e.from,e.to))return r.Ru.formatDate(e.from,f);return`${r.Ru.formatDate(e.from,f).replace(/ /g," ")} - ${r.Ru.formatDate(e.to,f).replace(/ /g," ")}`}},85375:(e,t,a)=>{a.d(t,{Ac:()=>i,a9:()=>o,i3:()=>d,im:()=>l,re:()=>c,tI:()=>r});var n=a(64721);const r=(e,t,a)=>!!e&&(t||!a.length),s=e=>e.artists.map((e=>e.name)),i=e=>1===e.length?n.Ru.get("concert.header.upcoming_concert_title_1",...e):2===e.length?n.Ru.get("concert.header.upcoming_concert_title_2",...e):3===e.length?n.Ru.get("concert.header.upcoming_concert_title_3",...e):4===e.length?n.Ru.get("concert.header.upcoming_concert_title_4",...e):e.length>4?n.Ru.get("concert.header.upcoming_concert_title_more",...e):"",o=e=>{const t=s(e);return r(e.title,e.festival,t)?e.title:i(t)},c=e=>1===e.length?n.Ru.get("concert.header.entity_title_1",...e):2===e.length?n.Ru.get("concert.header.entity_title_2",...e):3===e.length?n.Ru.get("concert.header.entity_title_3",...e):4===e.length?n.Ru.get("concert.header.entity_title_4",...e):e.length>4?n.Ru.get("concert.header.entity_title_more",...e):"",l=({name:e,city:t,region:a,country:r})=>[e,t,a,r].filter((e=>!!e&&"unknown"!==e.toLowerCase())).join(n.Ru.getSeparator()),d=e=>{if(!e.artists||0===e.artists.items.length)return e.title;if(e.festival)return e.title;const t=e.artists.items.map((e=>e.profile.name));return c(t)}},8476:(e,t,a)=>{a.d(t,{f:()=>o,z:()=>i});var n=a(30758),r=a(50780),s=a(57286);function i(e,t=r.l0o){const a=(0,s.as)();return(0,n.useEffect)((()=>(e&&a((0,s.Mo)(e)),()=>{a((0,s.Hf)())})),[e,a]),e||t}const o=({color:e,fallbackColor:t})=>(i(e,t),null)},52343:(e,t,a)=>{a.d(t,{K9:()=>s,gq:()=>i,zV:()=>o});const n=(e,t)=>t.formatDate(e,{year:"numeric",month:"numeric",day:"numeric"}),r=(e,t)=>t.formatDate(e,{hour:"numeric",minute:"numeric"}),s=(e,t,a,s,i)=>{if(!e||!i)return"";if(e&&t&&a&&s){const o=n(s,i),c=r(s,i);return i.get("concert.entity_metadata.title_with_date_and_time",e,t,a,o,c)}return i.get("concert.entity_metadata.title",e,t,a)},i=e=>{if(!e)return"";return`${e} Tickets - ${(new Date).getFullYear()} Concert Tour Dates | Spotify`},o=e=>`Concert Tickets & Tour Dates for you${e?` in ${e}`:""} | Spotify`},59459:(e,t,a)=>{a.d(t,{A:()=>n});const n={Heading:"playlist-playlist-heading",HTMLDescription:"playlist-playlist-playlistDescription",List:"playlist-playlist-list",ListItem:"playlist-playlist-listItem",Paragraph:"playlist-playlist-paragraph"}}}]);
//# sourceMappingURL=xpui-routes-concert.js.map